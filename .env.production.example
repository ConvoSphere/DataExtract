# Production Environment Configuration
# ===================================
# Kopiere diese Datei zu .env.production und passe die Werte an

# Service Identification
SERVICE_NAME=file-extractor
SERVICE_VERSION=0.1.0
SERVICE_NAMESPACE=file-extractor
ENVIRONMENT=production

# OpenTelemetry Configuration
ENABLE_OPENTELEMETRY=true
ENABLE_METRICS=true
ENABLE_TRACING=true
OTLP_ENDPOINT=http://otel-collector:4317
OTLP_HEADERS={}

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_REQUEST_LOGGING=true
ENABLE_EXTRACTION_LOGGING=true

# Redis Configuration
REDIS_URL=redis://redis:6379
REDIS_DB=0

# File Processing Configuration
MAX_FILE_SIZE=157286400
ENABLE_ASYNC_PROCESSING=true
MAX_CONCURRENT_EXTRACTIONS=10
WORKER_PROCESSES=4
EXTRACT_TIMEOUT=600

# API Configuration
DEBUG=false
HOST=0.0.0.0
PORT=8000

# Security Configuration
REQUIRE_API_KEY=true
API_KEY_HEADER=X-API-Key

# API Keys (Format: API_KEY_<NAME>=<KEY>:<PERMISSIONS>:<RATE_LIMIT>)
# Beispiel:
# API_KEY_CLIENT1=abc123def456:read,write:100
# API_KEY_CLIENT2=xyz789uvw012:read,write,admin:1000
# API_KEY_MONITORING=mon123key456:read:50

# CORS Configuration (Produktions-sicher)
CORS_ORIGINS=["https://your-frontend-domain.com", "https://api.your-domain.com"]
CORS_ALLOW_CREDENTIALS=false
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# Celery Configuration
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# Resource Limits
MAX_MEMORY=2G
MAX_CPU=2.0

# Security Headers
SECURITY_HEADERS_ENABLED=true
CONTENT_SECURITY_POLICY="default-src 'self'"
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
X_XSS_PROTECTION=1; mode=block
STRICT_TRANSPORT_SECURITY=max-age=31536000; includeSubDomains

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=100
RATE_LIMIT_WINDOW=60

# File Validation
FILE_VALIDATION_ENABLED=true
MALWARE_SCAN_ENABLED=true
FILE_SIGNATURE_VALIDATION=true

# Monitoring
METRICS_ENABLED=true
TRACING_ENABLED=true
HEALTH_CHECK_ENABLED=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# Alerting
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_RECIPIENTS=[]
ALERT_SLACK_WEBHOOK=""

# Performance Tuning
WORKER_CONCURRENCY=4
WORKER_MAX_TASKS_PER_CHILD=1000
WORKER_PREFETCH_MULTIPLIER=1

# Cache Configuration
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# Database Configuration (falls verwendet)
DATABASE_URL=""
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# External Services
EXTERNAL_API_TIMEOUT=30
EXTERNAL_API_RETRIES=3
EXTERNAL_API_BACKOFF_FACTOR=2

# Compliance
AUDIT_LOGGING_ENABLED=true
DATA_RETENTION_DAYS=90
PRIVACY_MODE_ENABLED=false

# Development Overrides (nur f√ºr Development)
# DEBUG=false
# LOG_LEVEL=WARNING
# ENABLE_REQUEST_LOGGING=false
